<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.28.2">
    <meta name="project" content="Remedy v0.6.9">

    <title>Advanced Configuration — Remedy v0.6.9</title>
    <link rel="stylesheet" href="dist/elixir-9c72061341c71d26e0ce.css" />

    <script src="dist/sidebar_items-e24ad4d1fd.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-073abeeda7b7e6d5d7e9.js"></script>


  </head>
  <body data-type="extras">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">


<section class="sidebar">
  <button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar">
    <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
  </button>

  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <p class="sr-only">Search</p>
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

      <a href="https://bdanklin.github.io/remedy/">
        <img src="assets/logo.png" alt="Remedy" class="sidebar-projectImage">
      </a>

    <div class="sidebar-projectDetails">
      <a href="https://bdanklin.github.io/remedy/" class="sidebar-projectName" translate="no">
Remedy
      </a>
      <strong class="sidebar-projectVersion" translate="no">
        v0.6.9
      </strong>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">HELLO</a></li>

        <li><a id="modules-list-link" href="#full-list">Modules</a></li>


    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="settings display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>


    <a href="https://github.com/bdanklin/remedy/blob/master/hello/advanced_configuration.md#L1" title="View Source" class="view-source" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>

  <span>Advanced Configuration</span>
</h1>

<p>Remedy provides a felxible system for configuration. You can provide secrets as either environment variables, using <a href="https://hexdocs.pm/elixir/Config.html"><code class="inline">Config</code></a>, or by providing the values when starting the supervision tree manually.</p><p>The heirarchy of configuration values is</p><pre><code class="makeup elixir" translate="no"><span class="nc">Arguments</span><span class="w">   </span><span class="o">&gt;</span><span class="w">  </span><span class="nc">Config</span><span class="w">   </span><span class="o">&gt;</span><span class="w">  </span><span class="nc">Environment</span><span class="w"> </span><span class="nc">Variables</span></code></pre><p>That is if you set a config value and an environment variable, the environment
variable will be ignored. The available configuration are</p><table><thead><tr><th style="text-align: left;">env</th><th style="text-align: left;">config</th><th style="text-align: left;">args</th></tr></thead><tbody><tr><td style="text-align: left;"><code class="inline">&quot;REMEDY_TOKEN&quot;</code></td><td style="text-align: left;"><code class="inline">:token</code></td><td style="text-align: left;"><code class="inline">:token</code></td></tr><tr><td style="text-align: left;"><code class="inline">&quot;REMEDY_EMBEDDED&quot;</code></td><td style="text-align: left;"><code class="inline">:embedded</code></td><td style="text-align: left;">n/a</td></tr><tr><td style="text-align: left;"><code class="inline">&quot;REMEDY_GATEWAY_INTENTS&quot;</code></td><td style="text-align: left;"><code class="inline">:gateway_intents</code></td><td style="text-align: left;"><code class="inline">:gateway_intents</code></td></tr><tr><td style="text-align: left;"><code class="inline">&quot;REMEDY_GATEWAY_SHARDS&quot;</code></td><td style="text-align: left;"><code class="inline">:gateway_shards</code></td><td style="text-align: left;"><code class="inline">:gateway_shards</code></td></tr><tr><td style="text-align: left;"><code class="inline">&quot;REMEDY_MIN_WORKERS&quot;</code></td><td style="text-align: left;"><code class="inline">:min_workers</code></td><td style="text-align: left;"><code class="inline">:min_workers</code></td></tr><tr><td style="text-align: left;"><code class="inline">&quot;REMEDY_MAX_WORKERS&quot;</code></td><td style="text-align: left;"><code class="inline">:max_workers</code></td><td style="text-align: left;"><code class="inline">:max_workers</code></td></tr></tbody></table><blockquote><h4 class="warning">Warning</h4><p>if Remedy is being started with <code class="inline">embedded: true</code> the <code class="inline">:token</code> can be provided to <code class="inline">start_link/2</code>. If <code class="inline">embedded: false</code> and no <code class="inline">:token</code> is provided, the application will not start.</p></blockquote><p>To configure your application using a <code class="inline">.env</code> file place it in the root of your application. It will look something like this:</p><pre><code class="makeup elixir" translate="no"><span class="n">export</span><span class="w"> </span><span class="nc">REMEDY_GATEWAY_INTENTS</span><span class="o">=</span><span class="s">&quot;all&quot;</span><span class="w">
</span><span class="n">export</span><span class="w"> </span><span class="nc">REMEDY_MIN_WORKERS</span><span class="o">=</span><span class="s">&quot;2&quot;</span><span class="w">
</span><span class="n">export</span><span class="w"> </span><span class="nc">REMEDY_MAX_WORKERS</span><span class="o">=</span><span class="s">&quot;2&quot;</span><span class="w">
</span><span class="n">export</span><span class="w"> </span><span class="nc">REMEDY_GATEWAY_SHARDS</span><span class="o">=</span><span class="s">&quot;1&quot;</span></code></pre><p>Configuration can be provided as starting arguments or inside your config.exs file. The configurable terms are as follows.</p><ul><li><code class="inline">:token</code> (required)
Your bots token, available from your
<a href="https://discord.com/developers/applications">Application Dashboard</a></li><li><code class="inline">:shards</code>
Number of shards to use.</li><li><code class="inline">:intents</code>
See <a href="Remedy.Gateway.Intents.html"><code class="inline">Remedy.Gateway.Intents</code></a> for more information</li><li><code class="inline">:min_workers</code>
The minimum number of HTTP2 connections to keep open. Defaults to 1, cannot be zero.</li><li><code class="inline">:max_workers</code>
The maximum number of HTTP2 connections to keep open. Defaults to 10, cannot be zero.</li></ul><h3 id="environment-variables" class="section-heading">
  <a href="#environment-variables" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">environment-variables</p>
  </a>
  Environment Variables
</h3>
<p>It is recommended to use environment variables to store sensitive configuration. So that they are not exposed if you should upload your project to GitHub etc. If a token is uploded to a public repo, Discord will notice and invalidate it.</p><h2 id="connection-limits" class="section-heading">
  <a href="#connection-limits" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">connection-limits</p>
  </a>
  Connection Limits
</h2>
<p>Some hosting platforms will limit the number of connections you are allowed to keep active at any one time.
Each shard and HTTP2 worker will count for an individual connection. In addition to any other connections required for your application. Phoenix will establish 10 connections to the database by default. If you are using Heroku free tier (20 connection limit) you could run out of connections for users visiting your web application. In those cases you should consider limiting the number of shards and HTTP2 workers.
We recommend using <a href="https://www.gigalixir.com/">Gigalixir</a> or <a href="https://fly.io/">Fly.io</a> for your hosting platform. The gigalixir free tier has unlimited connections and will allow your bot to run automatically configured shards without issues.</p>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="introduction.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Remedy
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="getting_started.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Getting Started
        </span>
      </a>

  </div>
</div>

      <footer class="footer">

          <p>
            On Hex.pm:

            <span class="line">
              <a href="https://hex.pm/packages/remedy/0.6.9" class="line footer-hex-package">Package</a>
              <a href="https://preview.hex.pm/preview/remedy/0.6.9" class="line">Preview</a>

                <a href="https://preview.hex.pm/preview/remedy/0.6.9/show/hello/advanced_configuration.md">(current file)</a>

            </span>

            <button class="line footer-button display-quick-switch">
              Search
            </button>
          </p>

        <p>
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.28.2) for the
          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
