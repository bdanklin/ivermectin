<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.25.1">
    <meta name="project" content="Remedy v0.5.3">

    <title>Remedy.Gateway.Payload â€” Remedy v0.5.3</title>
    <link rel="stylesheet" href="dist/elixir-a172fe91e725dcb259e2.css" />

    <script src="dist/sidebar_items-1ae39ad4a8.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-f27ff079945e43879c46.js"></script>


  </head>
  <body data-type="modules">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <span class="icon-search" aria-hidden="true" title="Submit search"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <span class="icon-cross" aria-hidden="true" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="https://bdanklin.github.io/remedy/" class="sidebar-projectName">
Remedy
      </a>
      <strong class="sidebar-projectVersion">
        v0.5.3
      </strong>
    </div>

      <a href="https://bdanklin.github.io/remedy/">
        <img src="assets/logo.png" alt="Remedy" class="sidebar-projectImage">
      </a>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list-link" href="#full-list">HELLO</a></li>

      <li><a id="modules-list-link" href="#full-list">Modules</a></li>


  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
Remedy.Gateway.Payload <small>behaviour</small> <small class="app-vsn">(Remedy v0.5.3)</small>

          <a href="https://github.com/bdanklin/remedy/blob/master/lib/remedy/gateway/payload.ex#L1" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>

      </h1>


        <section id="moduledoc">
<p>Payload represents the data packet set to discord through the API. All processing of the payload should be done within this context as it will be cleared upon returning to the session process.</p><blockquote><p>These functions exist to attempt friendly discourse with the ill mannered Discord gateway. Documentation is included for completeness but using them is at your peril!</p></blockquote><h2 id="module-fields" class="section-heading">
  <a href="#module-fields" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Fields
</h2>
<ul><li><code class="inline">op:</code> Opcode.</li><li><code class="inline">d:</code>  Data.</li><li><code class="inline">s:</code>  Sequence.</li><li><code class="inline">t:</code>  Event Name.</li></ul>
        </section>


        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>

  <div class="summary-types summary">
    <h2>
      <a href="#types">Types</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:opts/0">opts()</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:payload/0">payload()</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:socket/0">socket()</a>

  </div>

</div>

  </div>

  <div class="summary-callbacks summary">
    <h2>
      <a href="#callbacks">Callbacks</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:digest/2">digest(socket, payload)</a>

  </div>

    <div class="summary-synopsis"><p>Digest the data frame from Discord and loads the data into the socket. For example</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:payload/2">payload(socket, opts)</a>

  </div>

    <div class="summary-synopsis"><p>Describes how to take the current socket state and construct the payload data for this modules event type.</p></div>

</div>

  </div>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#digest/3">digest(socket, event, payload)</a>

  </div>

    <div class="summary-synopsis"><p>Digest the data frame into the socket.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#send/3">send(socket, event, opts \\ [])</a>

  </div>

    <div class="summary-synopsis"><p>Sends a command based on the current websocket state.</p></div>

</div>

  </div>

        </section>


        <section id="types" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#types">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Types
          </h1>
          <div class="types-list">
<section class="detail" id="t:opts/0">

  <div class="detail-header">
    <a href="#t:opts/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">opts()</h1>

      <a href="https://github.com/bdanklin/remedy/blob/master/lib/remedy/gateway/payload.ex#L60" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>opts() :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">list</a>() | nil</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:payload/0">

  <div class="detail-header">
    <a href="#t:payload/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">payload()</h1>

      <a href="https://github.com/bdanklin/remedy/blob/master/lib/remedy/gateway/payload.ex#L58" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>payload() :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>() | nil</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:socket/0">

  <div class="detail-header">
    <a href="#t:socket/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">socket()</h1>

      <a href="https://github.com/bdanklin/remedy/blob/master/lib/remedy/gateway/payload.ex#L59" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>socket() :: Websocket.t()</pre>

      </div>


  </section>
</section>

          </div>
        </section>

        <section id="callbacks" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#callbacks">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Callbacks
          </h1>
          <div class="callbacks-list">
<section class="detail" id="c:digest/2">

  <div class="detail-header">
    <a href="#c:digest/2" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <h1 class="signature">digest(socket, payload)</h1>

      <a href="https://github.com/bdanklin/remedy/blob/master/lib/remedy/gateway/payload.ex#L78" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(optional)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>digest(<a href="#t:socket/0">socket</a>(), <a href="#t:payload/0">payload</a>()) :: <a href="#t:socket/0">socket</a>()</pre>

      </div>

<p>Digest the data frame from Discord and loads the data into the socket. For example:</p><ul><li>The <code class="inline">:heartbeat_ack</code> flag on the websocket needs to be set to true once the <code class="inline">:HEARTBEAT_ACK</code> event is received from discord.</li></ul><p>In short. Do what you need to do with the payload. because its going away</p>
  </section>
</section>
<section class="detail" id="c:payload/2">

  <div class="detail-header">
    <a href="#c:payload/2" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <h1 class="signature">payload(socket, opts)</h1>

      <a href="https://github.com/bdanklin/remedy/blob/master/lib/remedy/gateway/payload.ex#L69" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(optional)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>payload(<a href="#t:socket/0">socket</a>(), <a href="#t:opts/0">opts</a>()) :: {<a href="#t:payload/0">payload</a>(), <a href="#t:socket/0">socket</a>()}</pre>

      </div>

<p>Describes how to take the current socket state and construct the payload data for this modules event type.</p><p>For example: <code class="inline">Heartbeat.send/2</code> will take the socket, and a keyword list of options, and construct the payload data for the event of type <code class="inline">:HEARTBEAT</code>. It is the responsibility of the developer to ensure that all events required to be sent implement this function.</p><p>If the behaviour is not described. Passing this function will just pass the socket back to session to continue doing what it do.</p>
  </section>
</section>

          </div>
        </section>

        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions
          </h1>
          <div class="functions-list">
<section class="detail" id="digest/3">

  <div class="detail-header">
    <a href="#digest/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">digest(socket, event, payload)</h1>

      <a href="https://github.com/bdanklin/remedy/blob/master/lib/remedy/gateway/payload.ex#L113" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>digest(<a href="Remedy.Gateway.Websocket.html#t:t/0">Remedy.Gateway.Websocket.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">binary</a>()) ::
  <a href="Remedy.Gateway.Websocket.html#t:t/0">Remedy.Gateway.Websocket.t</a>()</pre>

      </div>

<p>Digest the data frame into the socket.</p><p>Delegates the digestion to the appropriate module. It is that modules responsibility to implement the <code class="inline">digest/2</code> callback and return the <code class="inline">%Websocket{}</code></p>
  </section>
</section>
<section class="detail" id="send/3">

    <span id="send/2"></span>

  <div class="detail-header">
    <a href="#send/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">send(socket, event, opts \\ [])</h1>

      <a href="https://github.com/bdanklin/remedy/blob/master/lib/remedy/gateway/payload.ex#L122" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>send(<a href="Remedy.Gateway.Websocket.html#t:t/0">Remedy.Gateway.Websocket.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()) :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()</pre>

      </div>

<p>Sends a command based on the current websocket state.</p><p>Using this will invoke the appropriate modules</p>
  </section>
</section>

          </div>
        </section>

      <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.25.1) for the
            <a href="https://elixir-lang.org" title="Elixir" target="_blank">Elixir programming language</a>.
          </span>
          <span class="line">
            Designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>

            <a href="api-reference.html" title="API reference" class="line footer-button">API Reference</a>

          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
